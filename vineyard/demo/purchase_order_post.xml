<?xml version='1.0' encoding='UTF-8'?>
<odoo noupdate="1">
    <function name="button_confirm" model="purchase.order">
        <value eval="[ref('purchase_order_1')]"/>
    </function>

    <function name="write" model="stock.move.line">
        <value model="stock.move.line" eval="obj().search([
        ('product_id', '=', ref('product_product_18')),
        ('picking_id', '=', obj().env.ref('vineyard.purchase_order_1').picking_ids.id)]).id"/>
        <value model="stock.lot" eval="{'lot_id': ref('stock_lot_23'), 'lot_name': obj().env.ref('vineyard.stock_lot_23').name}"/>
    </function>
</odoo>
