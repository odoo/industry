<?xml version='1.0' encoding='UTF-8'?>
<odoo noupdate="1">
  <!--for sale order 1-->
  <record id="apply_coupon_code_1" model="sale.loyalty.coupon.wizard">
    <field name="order_id" ref="sale_order_1"/>
    <field name="coupon_code" model="loyalty.card" eval="obj().search([
        ('program_id', '=', ref('loyalty_program_3')),
    ], limit=1).code"/>
  </record>

  <function model="sale.loyalty.coupon.wizard" name="action_apply">
      <value eval="[ref('apply_coupon_code_1')]"/>
  </function>

  <record id="apply_selected_reward_1" model="sale.loyalty.reward.wizard">
      <field name="selected_reward_id" ref="loyalty_reward_5"/>
      <field name="order_id" ref="sale_order_1"/>
  </record>

  <function model="sale.loyalty.reward.wizard" name="action_apply">
      <value eval="[ref('apply_selected_reward_1')]"/>
  </function>

  <!--for sale order 8-->
  <function model="sale.order" name="action_open_reward_wizard" eval="[[ref('sale_order_8')]]"/>

  <!--for sale order 10-->
  <record id="apply_coupon_code_2" model="sale.loyalty.coupon.wizard">
    <field name="order_id" ref="sale_order_10"/>
    <field name="coupon_code">PROMO_CODE_63a6</field>
  </record>

  <function model="sale.loyalty.coupon.wizard" name="action_apply">
      <value eval="[ref('apply_coupon_code_2')]"/>
  </function>

  <record id="apply_selected_reward_2" model="sale.loyalty.reward.wizard">
      <field name="selected_reward_id" ref="loyalty_reward_7"/>
      <field name="order_id" ref="sale_order_10"/>
  </record>

  <function model="sale.loyalty.reward.wizard" name="action_apply">
      <value eval="[ref('apply_selected_reward_2')]"/>
  </function>
</odoo>
