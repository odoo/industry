<?xml version='1.0' encoding='UTF-8'?>
<odoo>
  <!-- eyetest report -->
  <record id="patient_eye_test_result_report" model="ir.ui.view">
    <field name="name">eyewear_shop.patient_eye_test_result_report_document</field>
    <field name="key">eyewear_shop.patient_eye_test_result_report_document</field>
    <field name="type">qweb</field>
    <field name="active" eval="True"/>
    <field name="arch" type="xml">
      <t t-name="studio_report_document">
        <t t-call="web.external_layout">
          <div class="page">
            <h3>Contact details</h3>
            <p>
              Name: <span t-field="doc.x_res_partner_id.complete_name"/>
              <br/>Address: <span t-field="doc.x_res_partner_id.contact_address_complete">/</span>
              <br/>Email: <span t-field="doc.x_res_partner_id.email">/</span>
              <br/>Phone: <span t-field="doc.x_res_partner_id.phone_mobile_search">/</span>
            </p>
  
            <h3>Eye examination</h3>
            <table class="table o_table table-borderless">
              <tbody>
                <tr>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Eye</strong></td>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Sphere</strong></td>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Cylinder</strong></td>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Axis</strong></td>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Addition</strong></td>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Base</strong></td>
                </tr>
                <tr>
                  <td><strong>Right Eye</strong></td>
                  <td><span t-field="doc.x_sphere_diopters_right">/</span></td>
                  <td><span t-field="doc.x_cylinder_diopters_right">/</span></td>
                  <td><span t-field="doc.x_axis_degrees_right">/</span></td>
                  <td><span t-field="doc.x_addition_add_right">/</span></td>
                  <td><span t-field="doc.x_base_curve_mm_right">/</span></td>
                </tr>
                <tr>
                  <td><strong>Left Eye</strong></td>
                  <td><span t-field="doc.x_sphere_diopters_left">/</span></td>
                  <td><span t-field="doc.x_cylinder_diopters_left">/</span></td>
                  <td><span t-field="doc.x_axis_degrees_left">/</span></td>
                  <td><span t-field="doc.x_addition_add_left">/</span></td>
                  <td><span t-field="doc.x_base_curve_mm_left">/</span></td>
                </tr>
              </tbody>
            </table>
            <br/>
            <table class="table o_table table-borderless">
              <tbody>
                <tr>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Pupillary Distance</strong></td>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Near Pupillary Distance</strong></td>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Vertex Distance</strong></td>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Ocular Dominance</strong></td>
                  <td style="background-color: rgb(58, 175, 169); color: rgb(17, 24, 39);"><strong>Segment Height (M.F.)</strong></td>
                </tr>
                <tr>
                  <td><span t-field="doc.x_pupillary_distance_pd">/</span></td>
                  <td><span t-field="doc.x_near_pd_for_reading">/</span></td>
                  <td><span t-field="doc.x_vertex_distance">/</span></td>
                  <td>
                    Right: <span t-field="doc.x_ocular_dominance_right">/</span><br/>
                    Left: <span t-field="doc.x_ocular_dominance_left">/</span>
                  </td>
                  <td><span t-field="doc.x_segment_height_for_multifocals">/</span></td>
                </tr>
              </tbody>
            </table>
            <h3>Remarks</h3>
            <p><span t-field="doc.x_remarks">None</span></p>
          </div>
        </t>
      </t>
    </field>
  </record>
  <record id="eyewear_main_report" model="ir.ui.view">
    <field name="name">eyewear_shop.patient_eye_test_result_report</field>
    <field name="key">eyewear_shop.patient_eye_test_result_report</field>
    <field name="type">qweb</field>
    <field name="active" eval="True"/>
    <field name="arch" type="xml">
      <t t-name="studio_main_report">
        <t t-call="web.html_container">
          <t t-foreach="docs" t-as="doc">
            <t t-call="eyewear_shop.patient_eye_test_result_report_document"/>
          </t>
        </t>
      </t>
    </field>
  </record>
</odoo>
