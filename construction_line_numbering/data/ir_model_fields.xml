<?xml version='1.0' encoding='UTF-8'?>
<odoo>
    <record id="x_line_field_sale_order_line" model="ir.model.fields">
        <field name="compute"><![CDATA[for record in self:
        if record.order_id.id and record.id:
            for (index, d) in enumerate(record.order_id.order_line):
                if d["id"] == record.id: record['x_line'] = index + 1
        else: record['x_line'] = False]]></field>
        <field name="ttype">integer</field>
        <field name="depends">order_id</field>
        <field name="field_description">#</field>
        <field name="model_id" ref="sale.model_sale_order_line"/>
        <field name="name">x_line</field>
        <field name="readonly" eval="True"/>
        <field name="selectable" eval="False"/>
        <field name="store" eval="False"/>
    </record>
</odoo>
