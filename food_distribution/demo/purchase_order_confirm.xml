<?xml version='1.0' encoding='UTF-8'?>
<odoo noupdate="1">
    <function name="button_confirm" model="purchase.order">
        <value eval="[
            ref('purchase_order_1'),
            ref('purchase_order_2'),
        ]"/>
    </function>

    <function name="write" model="stock.move.line">
        <value model="stock.move.line" eval="obj().search([
        ('product_id', '=', ref('product_product_6')),
        ('picking_id', '=', obj().env.ref('food_distribution.purchase_order_2').picking_ids.id)], limit=1).id"/>
        <value model="stock.lot" eval="{'lot_id': ref('stock_lot_6')}"/>
    </function>
    <function name="write" model="stock.move.line">
        <value model="stock.move.line" eval="obj().search([
        ('product_id', '=', ref('product_product_2')),
        ('picking_id', '=', obj().env.ref('food_distribution.purchase_order_2').picking_ids.id)], limit=1).id"/>
        <value model="stock.lot" eval="{'lot_id': ref('stock_lot_1')}"/>
    </function>
    <function name="write" model="stock.move.line">
        <value model="stock.move.line" eval="obj().search([
        ('product_id', '=', ref('product_product_8')),
        ('picking_id', '=', obj().env.ref('food_distribution.purchase_order_2').picking_ids.id)], limit=1).id"/>
        <value model="stock.lot" eval="{'lot_id': ref('stock_lot_2')}"/>
    </function>
    <function name="write" model="stock.move.line">
        <value model="stock.move.line" eval="obj().search([
        ('product_id', '=', ref('product_product_4')),
        ('picking_id', '=', obj().env.ref('food_distribution.purchase_order_2').picking_ids.id)], limit=1).id"/>
        <value model="stock.lot" eval="{'lot_id': ref('stock_lot_3')}"/>
    </function>
    <function name="write" model="stock.move.line">
        <value model="stock.move.line" eval="obj().search([
        ('product_id', '=', ref('product_product_5')),
        ('picking_id', '=', obj().env.ref('food_distribution.purchase_order_2').picking_ids.id)], limit=1).id"/>
        <value model="stock.lot" eval="{'lot_id': ref('stock_lot_4')}"/>
    </function>
    <function name="write" model="stock.move.line">
        <value model="stock.move.line" eval="obj().search([
        ('product_id', '=', ref('product_product_7')),
        ('picking_id', '=', obj().env.ref('food_distribution.purchase_order_2').picking_ids.id)], limit=1).id"/>
        <value model="stock.lot" eval="{'lot_id': ref('stock_lot_5')}"/>
    </function>

    <function name="button_validate" model="stock.picking">
        <value model="stock.picking" eval="(
            obj().env.ref('food_distribution.purchase_order_1') +
            obj().env.ref('food_distribution.purchase_order_2')
        ).picking_ids.ids"/>
    </function>
</odoo>
