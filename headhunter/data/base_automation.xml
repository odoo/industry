<?xml version='1.0' encoding='UTF-8'?>
<odoo>
    <record id="agreement_signature_automation" model="base.automation">
        <field name="name">agreement_signature_actions</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="trigger">on_create_or_write</field>
        <field name="filter_domain" eval="[('stage_id', '=', ref('crm.stage_lead3', raise_if_not_found=False))]"/>
        <field name="trigger_field_ids" eval="[(6, 0, [ref('crm.field_crm_lead__stage_id')])]"/>
    </record>
    <record id="contact_activity_automation" model="base.automation">
        <field name="name">contact_activity_actions</field>
        <field name="model_id" ref="crm.model_crm_lead"/>
        <field name="trigger">on_create</field>
    </record>
    <record id="contact_applicant_automation" model="base.automation">
        <field name="name">contact_applicant_actions</field>
        <field name="model_id" ref="hr_recruitment.model_hr_applicant"/>
        <field name="trigger">on_create_or_write</field>
        <field name="trigger_field_ids" eval="[(6, 0, [ref('hr_recruitment.field_hr_applicant__stage_id', raise_if_not_found=False)])]"/>
        <field name="filter_domain" eval="[('stage_id', '=', ref('crm.stage_lead1', raise_if_not_found=False))]"/>
    </record>
    <record id="create_activity_on_talent_poll_automation" model="base.automation">
        <field name="name">Create an activity</field>
        <field name="model_id" ref="hr_recruitment.model_hr_applicant"/>
        <field name="trigger">on_stage_set</field>
        <field name="trg_field_ref" ref="hr_recruitment.stage_job5"/>
        <field name="filter_domain">[("application_status", "=", "hired")]</field>
        <field name="trigger_field_ids" eval="[(6, 0, [ref('hr_recruitment.field_hr_applicant__stage_id')])]"/>
    </record>
    <record id="status_update_base_automation" model="base.automation">
        <field name="name">status update</field>
        <field name="model_id" ref="hr.model_hr_job"/>
        <field name="trigger">on_create_or_write</field>
        <field name="trigger_field_ids" eval="[(6, 0, [ref('x_status_bar_field'), ref('website_hr_recruitment.field_hr_job__is_published')])]"/>
    </record>
    <record id="base_automation_sale_linked_to_job_position" model="base.automation">
        <field name="model_id" ref="sale.model_sale_order"/>
        <field name="trigger">on_create</field>
        <field name="filter_domain">[("x_job_id", "!=", False)]</field>
        <field name="name">sale order creation</field>
    </record>
    <record id="base_automation_sync_as_per_status" model="base.automation">
        <field name="name">Status Change Sync on job position</field>
        <field name="model_id" ref="hr.model_hr_job"/>
        <field name="trigger">on_create_or_write</field>
        <field name="trigger_field_ids" eval="[(6, 0, [ref('hr.field_hr_job__active'), ref('website_hr_recruitment.field_hr_job__is_published'), ref('headhunter.x_status_bar_field')])]"/>
    </record>
    <record id="base_automation_job_add" model="base.automation">
        <field name="name">Similar Job Add</field>
        <field name="model_id" ref="hr.model_hr_job"/>
        <field name="trigger">on_change</field>
    </record>
    <!-- automation to copy date from hr.applicant model to x_cv_sent_application model only when mail is sent-->
    <record id="base_automation_to_send_mail" model="base.automation">
        <field name="name">Send mail</field>
        <field name="model_id" ref="mail.model_mail_message"/>
        <field name="trigger">on_create</field>
        <field name="filter_domain">[("model", "=", "hr.applicant")]</field>
    </record>
</odoo>
