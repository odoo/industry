<?xml version='1.0' encoding='UTF-8'?>
<odoo>
  <record id="booking_engine_rooms_schedule_action" model="ir.actions.act_window">
    <field name="domain">[("role_id", "ilike", ""), ("role_id.x_is_a_room_offer", "=", True)]</field>
    <field name="context">{'search_default_group_by_employee': 1, 'planning_expand_employee': 1, 'planning_expand_role': 1, 'planning_expand_sale_line_id': 1, 'planning_expand_resource': 1}</field>
    <field name="name">Schedule</field>
    <field name="res_model">planning.slot</field>
    <field name="view_mode">gantt,calendar,list,kanban,form</field>
  </record>
  <record id="booking_engine_rooms_order_action" model="ir.actions.act_window">
    <field name="domain">[("x_order_involves_room", "=", True)]</field>
    <field name="context">{'search_default_filter_today': 1, 'in_rental_app': 1, 'search_default_from_rental': 1, 'group_by': ['rental_status']}</field>
    <field name="name">Orders</field>
    <field name="res_model">sale.order</field>
    <field name="view_mode">kanban,list,form</field>
  </record>
  <record id="booking_engine_rooms_offers_action" model="ir.actions.act_window">
    <field name="name">Stay Offers</field>
    <field name="res_model">product.template</field>
    <field name="domain">[("x_is_a_room_offer", "=", True)]</field>
    <field name="context">{'default_x_is_a_room_offer': True, 'default_purchase_ok': False, 'default_sale_ok': True, 'default_rent_periodicity': 'nights', 'default_pickup_time': 18, 'default_return_time': 9,'default_type': 'service', 'default_planning_enabled': True}</field>
    <field name="view_mode">kanban,list,form</field>
  </record>
  <record id="booking_engine_rooms_roles_action" model="ir.actions.act_window">
    <field name="name">Room Roles</field>
    <field name="res_model">planning.role</field>
    <field name="domain">[("x_is_a_room_offer", "=", True)]</field>
    <field name="context">{'default_x_is_a_room_offer': True, 'default_sync_shift_rental': True}</field>
    <field name="view_mode">list,form</field>
  </record>
  <record id="booking_engine_rooms_resources_action" model="ir.actions.act_window">
    <field name="name">Resources</field>
    <field name="res_model">resource.resource</field>
    <field name="context">{'default_resource_type': 'material', 'default_x_is_stay_resource': 1}</field>
    <field name="domain">[("x_is_stay_resource", "=", True)]</field>
    <field name="view_mode">list,form</field>
  </record>
  <record id="booking_engine_settings_action" model="ir.actions.act_window">
    <field name="name">Booking Engine Settings</field>
    <field name="res_model">res.config.settings</field>
    <field name="view_mode">form</field>
    <field name="view_id" ref="res_config_settings_form_view_inherited"/>
    <field name="context">{'module' : 'accomodation'}</field>
  </record>

    <!-- House Keeping -->
    <record id="act_window_board" model="ir.actions.act_window">
        <field name="domain">[('resource_type', '=', 'material'), ('role_ids.x_is_a_room_offer', '=', True)]</field>
        <field name="name">Board</field>
        <field name="res_model">resource.resource</field>
        <field name="view_mode">kanban,form</field>
        <field name="context" eval="{'default_resource_type': 'material', 'create': False}"/>
    </record>
    <record id="act_window_house_keeping_project_tasks" model="ir.actions.act_window">
        <field name="domain">[('project_id.x_is_house_keeping_project', '=', True)]</field>
        <field name="name">Tasks</field>
        <field name="res_model">project.task</field>
        <field name="view_mode">list,form</field>
        <field name="context" eval="{'default_project_id': ref('project_project_1', raise_if_not_found=False), 'search_default_open_tasks': True}"/>
    </record>
    <record id="action_window_redirect_related_task" model="ir.actions.act_window">
        <field name="domain">[('state', '!=', '1_done'), ('x_resource_id', '=', active_id), ('project_id.x_is_house_keeping_project', '=', True)]</field>
        <field name="name">Task redirected from Resource</field>
        <field name="res_model">project.task</field>
        <field name="view_mode">list,form</field>
    </record>
</odoo>
