<?xml version='1.0' encoding='UTF-8'?>
<odoo>
    <!-- x_petition Views -->
    <record id="view_list_x_petition" model="ir.ui.view">
        <field name="arch" type="xml">
            <list>
                <field name="x_sequence" widget="handle"/>
                <field name="x_name"/>
                <field name="x_date_stop" string="Date" optional="show" widget="daterange"
                    options="{'start_date_field':'x_date_start','always_range':true}"/>
                <field name="x_user_id" widget="many2one_avatar_user"/>
                <field name="x_current_signatures" optional="show"/>
                <field name="x_target_signatures" optional="show"/>
                <field name="x_progress" widget="progressbar" optional="show" readonly="True"
                            options="{'max_value':'x_target_signatures','current_value':'x_current_signatures'}"/>
                <field name="x_tag_ids" widget="many2many_tags" options="{'color_field': 'x_color'}"/>
            </list>
        </field>
        <field name="model">x_petition</field>
        <field name="name">Default list view for x_petition</field>
        <field name="active" eval="True"/>
        <field name="type">list</field>
    </record>

    <record id="view_form_x_petition" model="ir.ui.view">
        <field name="arch" type="xml">
            <form>
                <header>
                    <field widget="statusbar" options="{'clickable': '1'}" name="x_petition_status"/>
                </header>
                <sheet string="Petition">
                    <div name="button_box" class="oe_button_box">
                        <button class="oe_stat_button" name="%(open_x_petition_website_page)d"
                            context="{'record_url': 'x_website_url'}" invisible="not x_is_published"
                            title="Go to Website" icon="fa-globe" type="action"><span>Go to website</span></button>
                        <button class="oe_stat_button" icon="fa-pencil" type="action"
                            name="%(petition_related_x_signature)d">
                            <field widget="statinfo" name="x_current_signatures" string="Signatures"/>
                        </button>
                    </div>
                    <widget name="web_ribbon" text="Archived" bg_color="text-bg-danger"
                        invisible="x_active"/>
                    <field name="x_active" invisible="1"/>
                    <field class="oe_avatar" widget="image" name="x_image"/>
                    <div class="oe_title">
                        <h1>
                            <field name="x_name" string="Petition Name" required="1"
                                placeholder="e.g. Raise the minimum wage to a living wage"/>
                        </h1>
                    </div>
                    <group name="group_fields">
                        <group name="group_left">
                            <field name="x_date_stop" optional="show" widget="daterange"
                                options="{'start_date_field':'x_date_start','always_range':true}"/>
                            <field name="x_user_id" widget="many2one_avatar"/>
                            <field name="x_tag_ids" widget="many2many_tags"
                                options="{'color_field': 'x_color'}"/>
                            <field name="x_is_published"
                                help="Is the petition published on the website?"/>
                        </group>
                        <group name="group_right">
                            <field name="x_current_signatures" force_save="1" readonly="True"/>
                            <field name="x_target_signatures"/>
                            <field name="x_progress" force_save="1" readonly="True"
                                options="{'digits':[0,0],'current_value':'x_current_signatures','max_value':'x_target_signatures'}"
                                widget="progressbar"/>
                        </group>
                    </group>
                    <notebook name="notebook">
                        <page string="Description" name="notebook page">
                            <field name="x_website_description"/>
                        </page>
                    </notebook>
                </sheet>
                <chatter />
            </form>
        </field>
        <field name="model">x_petition</field>
        <field name="name">Default form view for x_petition</field>
        <field name="active" eval="True"/>
        <field name="type">form</field>
    </record>


    <record id="view_search_x_petition" model="ir.ui.view">
        <field name="arch" type="xml">
            <search>
                <field name="x_name"/>
                <field name="x_user_id"/>
                <field name="x_tag_ids"/>
                <filter string="My Petition" name="my_x_petition" domain="[['x_user_id', '=', uid]]"/>
                <separator/>
                <filter
                    domain="[('x_petition_status', '=', 'published')]"
                    name="filter_published" string="Published"/>
                <filter
                    domain="[('x_petition_status', '=', 'draft')]"
                    name="filter_drafts" string="Drafts"/>
                <filter
                    domain="[('x_petition_status', '=', 'closed')]"
                    name="filter_closed" string="Closed Petitions"/>
                <filter
                    domain="[('x_petition_status', '=', 'submitted')]"
                    name="filter_submitted" string="Submitted"/>
                <separator/>
                <filter
                    domain="[('x_progress', '&gt;=', 100)]"
                    name="filter_goal_reached" string="Reached Goal"/>
                <filter domain="[('x_progress', '&lt;', 100)]"
                    name="filter_goal_not_reached" string="Not Reached"/>
                <separator/>
                <filter date="x_date_start" name="filter_date_start" string="Start Date"/>
                <filter date="x_date_stop" name="filter_date_stop" string="End Date"/>
                <separator/>
                <filter string="Archived" name="archived_x_petition"
                    domain="[['x_active', '=', False]]"/>
                <separator/>
                <filter name="groupby_x_user" string="Responsible"
                    context="{'group_by': 'x_user_id'}" domain="[]"/>
            </search>
        </field>
        <field name="model">x_petition</field>
        <field name="name">Default search view for x_petition</field>
        <field name="active" eval="True"/>
        <field name="type">search</field>
    </record>


    <record id="view_gantt_x_petition" model="ir.ui.view">
        <field name="arch" type="xml">
            <gantt date_start="x_date_start" date_stop="x_date_stop"/>
        </field>
        <field name="model">x_petition</field>
        <field name="name">Default gantt view for x_petition</field>
        <field name="active" eval="True"/>
        <field name="type">gantt</field>
    </record>


    <record id="default_kanban_view_x_petition" model="ir.ui.view">
        <field name="arch" type="xml">
            <kanban string="Petition" default_group_by="x_petition_status">
                <templates>
                    <header />
                    <t t-name="menu">
                        <t t-if="widget.editable">
                            <a type="open" class="dropdown-item">Edit</a>
                        </t>
                        <t t-if="widget.deletable">
                            <a type="delete" class="dropdown-item">Delete</a>
                        </t>
                    </t>
                    <t t-name="card">
                        <field name="x_name"/>
                        <field name="x_tag_ids" display="full"/>
                        <field name="x_current_signatures" display="full" invisible="True"/>
                        <field name="x_progress" display="full" widget="progressbar"
                            options="{'max_value':'x_target_signatures','current_value':'x_current_signatures'}"/>
                        <field name="x_date_stop" display="full" widget="daterange"
                            options="{'start_date_field':'x_date_start','show_time':false}"/>
                    </t>
                </templates>
            </kanban>
        </field>
        <field name="model">x_petition</field>
        <field name="name">Default kanban view for x_petition</field>
        <field name="active" eval="True"/>
        <field name="type">kanban</field>
    </record>


    <record id="default_bar_graph_view_x_petition" model="ir.ui.view">
        <field name="arch" type="xml">
            <graph string="Petition" sample="1" type="bar">
                <field name="x_name"/>
                <field name="x_current_signatures" type="measure"/>
            </graph>
        </field>
        <field name="model">x_petition</field>
        <field name="name">Default bar graph view for x_petition</field>
        <field name="active" eval="True"/>
        <field name="type">graph</field>
    </record>


    <record id="default_pivot_view_x_petition" model="ir.ui.view">
        <field name="arch" type="xml">
            <pivot string="Petition" sample="1">
                <field name="x_current_signatures" type="col"/>
                <field name="x_name" type="row"/>
            </pivot>
        </field>
        <field name="model">x_petition</field>
        <field name="name">Default pivot view for x_petition</field>
        <field name="active" eval="True"/>
        <field name="type">pivot</field>
    </record>


    <!-- x_signature Views -->
    <record id="view_list_x_signature" model="ir.ui.view">
        <field name="arch" type="xml">
            <list>
                <field name="x_sequence" widget="handle"/>
                <field name="x_partner_id"/>
                <field name="x_date" optional="show"/>
                <field name="x_petition_name" optional="show"/>
                <field name="x_country_id" optional="show"/>
                <field name="x_newsletter" optional="show"/>
            </list>
        </field>
        <field name="model">x_signature</field>
        <field name="name">Default list view for x_signature</field>
        <field name="active" eval="True"/>
        <field name="type">list</field>
    </record>
    <record id="view_form_x_signature" model="ir.ui.view">
        <field name="arch" type="xml">
            <form>
                <header />
                <sheet string="Signature">
                    <widget name="web_ribbon" text="Archived" bg_color="text-bg-danger"
                        invisible="x_active"/>
                    <group>
                        <h1>
                            <field name="x_partner_id" required="1" placeholder="Contact"/>
                        </h1>
                    </group>
                    <group name="group_detail">
                        <group name="group_left">
                            <field name="x_country_id" force_save="1"/>
                            <field name="x_date" string="Date Signed"/>
                        </group>
                        <group name="group_right">
                            <field name="x_petition_id" options="{'create_name_field': 'x_name'}"/>
                            <field name="x_newsletter"/>
                        </group>
                    </group>
                </sheet>
                <chatter />
            </form>
        </field>
        <field name="model">x_signature</field>
        <field name="name">Default form view for x_signature</field>
        <field name="active" eval="True"/>
        <field name="type">form</field>
    </record>
    <record id="view_search_default_x_signature" model="ir.ui.view">
        <field name="arch" type="xml">
            <search>
                <field name="x_name"/>
                <field name="x_partner_id" operator="child_of"/>
                <separator />
                <filter date="x_date" name="filter_date" string="Date"/>
                <filter domain="[('x_newsletter', '!=', False)]"
                    name="filter_newsletter_subscriber" string="Newsletter Subscriber"/>
                <separator />
                <filter string="Archived" name="archived_x_signature"
                    domain="[['x_active', '=', False]]"/>
                <separator />
                <filter name="groupby_x_partner" string="Partner"
                    context="{'group_by': 'x_partner_id'}" domain="[]"/>
                <filter name="filter_group_by_petition_name" string="Petition Name"
                    context="{'group_by': 'x_petition_name'}"/>
                <filter name="filter_group_by_date_signed" string="Date Signed"
                    context="{'group_by': 'x_date'}"/>
                <filter name="filter_group_by_country" string="Country"
                    context="{'group_by': 'x_country_id'}"/>
            </search>
        </field>
        <field name="model">x_signature</field>
        <field name="name">Default search view for x_signature</field>
        <field name="active" eval="True"/>
        <field name="type">search</field>
    </record>
    <record id="default_calendar_view_x_signature" model="ir.ui.view">
        <field name="arch" type="xml">
            <calendar date_start="x_date" create_name_field="x_name"/>
        </field>
        <field name="model">x_signature</field>
        <field name="name">Default calendar view for x_signature</field>
        <field name="active" eval="True"/>
        <field name="type">calendar</field>
    </record>

    <!-- x_petition_tag Views -->
    <record id="default_list_view_x_petition_tags" model="ir.ui.view">
        <field name="arch" type="xml">
            <list editable="bottom">
                <field name="x_name"/>
                <field name="x_color" widget="color_picker"/>
            </list>
        </field>
        <field name="model">x_petition_tag</field>
        <field name="name">Default list view for x_petition_tag</field>
        <field name="active" eval="True"/>
        <field name="type">list</field>
    </record>
    <record id="default_form_view_x_petition_tags" model="ir.ui.view">
        <field name="arch" type="xml">
            <form>
                <header />
                <sheet string="Petition Tags">
                    <div class="oe_title">
                        <h1>
                            <field name="x_name" required="1" placeholder="Name..."/>
                        </h1>
                    </div>
                </sheet>
            </form>
        </field>
        <field name="model">x_petition_tag</field>
        <field name="name">Default form view for x_petition_tag</field>
        <field name="active" eval="True"/>
        <field name="type">form</field>
    </record>
    <record id="default_search_view_x_petition_tags" model="ir.ui.view">
        <field name="arch" type="xml">
            <search>
                <field name="x_name"/>
            </search>
        </field>
        <field name="model">x_petition_tag</field>
        <field name="name">Default search view for x_petition_tag</field>
        <field name="active" eval="True"/>
        <field name="type">search</field>
    </record>


    <!-- res.partner Views -->
    <record id="extension_form_view_res_partner" model="ir.ui.view">
        <field name="arch" type="xml">
            <data>
                <xpath expr="//button[hasclass('oe_stat_button')]" position="before">
                    <button class="oe_stat_button" icon="fa-pencil" type="action"
                        name="%(partner_related_x_signature)d">
                        <field widget="statinfo" name="x_x_partner_id_x_signature_count"
                            string="Signatures"/>
                    </button>
                </xpath>
            </data>
        </field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="mode">extension</field>
        <field name="model">res.partner</field>
        <field name="name">res.partner.form customization</field>
        <field name="priority">200</field>
        <field name="active" eval="True"/>
        <field name="type">form</field>
    </record>

    <record id="res_company_form_view" model="ir.ui.view">
        <field name="name">res.company.form.view.inherited.ngo</field>
        <field name="model">res.company</field>
        <field name="inherit_id" ref="base.view_company_form"/>
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='currency_id']" position="after">
                <field name="x_signer_id"/>
                <field name="x_company_signature"/>
            </xpath>
        </field>
    </record>
    
    <record id="product_category_form_view" model="ir.ui.view">
        <field name="name">product.category.form.view.inherited.ngo</field>
        <field name="model">product.category</field>
        <field name="inherit_id" ref="product.product_category_form_view"/>
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='parent_id']" position="before">
                <field name="x_product_category_is_donation"/>
            </xpath>
        </field>
    </record>
    <record id="account_journal_form_view" model="ir.ui.view">
        <field name="name">account.journal.form.view.inherited.ngo</field>
        <field name="model">account.journal</field>
        <field name="inherit_id" ref="account.view_account_journal_form"/>
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='code']" position="after">
                <field name="x_journal_is_donation"/>
            </xpath>
        </field>
    </record>

    <record id="res_partner_form_view" model="ir.ui.view">
        <field name="name">res.partner.form.view.inherited.ngo</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field eval="17" name="priority"/>
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <xpath expr="//div[hasclass('o_address_format')]" position="after">
                <field name="x_citizen_id_number" placeholder="e.g. 123455 555 6"/>
            </xpath>
        </field>
    </record>

    <record id="sale_order_tree_customization" model="ir.ui.view">
        <field name="name">sale.order.tree.customization</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_quotation_tree"/>
        <field name="mode">extension</field>
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="x_related_address"/>
                <field name="x_related_citizen_id_number" placeholder="e.g. 123455 555 6"/>
            </xpath>
            <xpath expr="//field[@name='state']" position="before">
                <field name="tag_ids" widget="many2many_tags"/>
            </xpath>
        </field>
    </record>

    <record id="sale_order_kanban_customization" model="ir.ui.view">
        <field name="name">sale.order.kanban.customization</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_sale_order_kanban"/>
        <field name="mode">extension</field>
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="tag_ids"/>
            </xpath>
        </field>
    </record>
    <record id="sale_order_form_customization" model="ir.ui.view">
        <field name="name">sale.order.form.customization</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="mode">extension</field>
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='partner_shipping_id']" position="after">
                <field name="x_related_citizen_id_number" placeholder="e.g. 123455 555 6"/>
            </xpath>
        </field>
    </record>
    <record id="sale_order_graph_customization" model="ir.ui.view">
        <field name="name">sale.order.graph.customization</field>
        <field name="model">sale.order</field>
        <field name="mode">primary</field>
        <field name="active" eval="True"/>
        <field name="arch" type="xml">
            <graph>
                <field name="date_order" interval="month"/>
            </graph>
        </field>
    </record>
    <record id="action_window_donations" model="ir.actions.act_window">
        <field name="view_ids" eval="[
            (5, 0, 0),
            (0, 0, {'view_mode': 'list', 'view_id': ref('sale_order_tree_customization')}),
            (0, 0, {'view_mode': 'graph', 'view_id': ref('sale_order_graph_customization')}),
        ]"/>
    </record>
</odoo>
