<?xml version='1.0' encoding='UTF-8'?>
<odoo>
    <record id="update_so_line_quantity" model="ir.actions.server">
      <field name="name">Update SO line Quantity</field>
      <field name="state">code</field>
      <field name="code"><![CDATA[
if record.order_id.state != "cancel" and record.order_id.state != "sale": 
    record['product_uom_qty'] = len(record.x_maintained_serials)
]]></field>
      <field name="model_id" ref="sale.model_sale_order_line"/>
    </record>
</odoo>
