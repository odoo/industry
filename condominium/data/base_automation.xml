<?xml version='1.0' encoding='UTF-8'?>
<odoo>
    <record id="automation_set_usage_meter_reading" model="base.automation">
        <field name="name">Condominium: Set Usage in Meter Readings</field>
        <field name="model_id" ref="model_meter_reading"/>
        <field name="action_server_ids" eval="[(6, 0, [ref('action_server_set_usage_meter_reading')])]"/>
        <field name="trigger">on_create_or_write</field>
        <field name="trigger_field_ids" eval="[(6, 0, [ref('field_meter_reading_date'), ref('field_meter_reading_quantity'), ref('field_meter_reading_meter_id')])]"/>
    </record>
    <record id="automation_update_property_current_owner" model="base.automation">
        <field name="name">Condominium: On owners edit</field>
        <field name="model_id" ref="model_x_property_line_owner"/>
        <field name="action_server_ids" eval="[(6, 0, [ref('action_update_property_current_owner')])]"/>
        <field name="trigger">on_create_or_write</field>
        <field name="trigger_field_ids" eval="[(6, 0, [ref('field_property_line_owner')])]"/>
    </record>
    <record id="automation_archive_related_accounts" model="base.automation">
        <field name="name">Condominium: On property deletion</field>
        <field name="model_id" ref="model_x_property"/>
        <field name="action_server_ids" eval="[(6, 0, [ref('action_archive_related_accounts')])]"/>
        <field name="trigger">on_unlink</field>
    </record>
    <record id="automation_populate_voters" model="base.automation">
        <field name="name">Condominium: On Vote Edit</field>
        <field name="model_id" ref="model_x_calendar_event_line_motion"/>
        <field name="action_server_ids" eval="[(6, 0, [ref('action_populate_voters')])]"/>
        <field name="trigger">on_create_or_write</field>  <!-- TODOVAVA why not on_create ? -->
        <field name="filter_domain">[("id", "!=", False)]</field>
        <field name="filter_pre_domain">[("id", "=", False)]</field>
    </record>
    <record id="automation_call_distribute_costs_on_update" model="base.automation">
        <field name="name">Condominium: On Distribution input update</field>
        <field name="model_id" ref="account.model_account_move"/>
        <field name="action_server_ids" eval="[(6, 0, [ref('ir_actions_server_distribute_costs')])]"/>
        <field name="trigger">on_change</field>
        <field name="on_change_field_ids" eval="[(6, 0, [ref('account.field_account_move__invoice_line_ids'), ref('distribution_key_account_move_field'), ref('field_account_move_period_end'), ref('field_account_move_period_start')])]"/>
    </record>
    <record id="automation_call_distribute_costs_on_save" model="base.automation">
        <field name="name">Condominium: On Distribution input save</field>
        <field name="model_id" ref="account.model_account_move"/>
        <field name="action_server_ids" eval="[(6, 0, [ref('ir_actions_server_distribute_costs')])]"/>
        <field name="trigger">on_create_or_write</field>
        <field name="trigger_field_ids" eval="[(6, 0, [ref('account.field_account_move__invoice_line_ids'), ref('distribution_key_account_move_field'), ref('field_account_move_period_end'), ref('field_account_move_period_start')])]"/>
    </record>
    <record id="automation_update_for_voters_line" model="base.automation">
        <field name="model_id" ref="calendar.model_calendar_attendee"/>
        <field name="trigger">on_create_or_write</field>
        <field name="name">Condominium: On Attendee and delegating Edit</field>
        <field name="action_server_ids" eval="[(6, 0, [ref('action_update_voter_line_for_motion')])]"/>
        <field name="trigger_field_ids" eval="[(6, 0, [ref('new_checkbox_calenda_attending'), ref('new_checkbox_calenda_delegating')])]"/>
    </record>
</odoo>
