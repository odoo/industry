<?xml version='1.0' encoding='UTF-8'?>
<odoo>
    <record id="x_is_license_field" model="ir.model.fields">
        <field name="name">x_is_license</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="field_description">License</field>
        <field name="ttype">boolean</field>
    </record>
    <record id="x_software_field" model="ir.model.fields">
        <field name="ttype">char</field>
        <field name="copied" eval="True"/>
        <field name="field_description">Software</field>
        <field name="model_id" ref="project.model_project_project"/>
        <field name="name">x_software</field>
    </record>
    <record id="x_expiration_check_field" model="ir.model.fields">
        <field name="ttype">boolean</field>
        <field name="copied" eval="True"/>
        <field name="field_description">Expiration check</field>
        <field name="model_id" ref="project.model_project_task_type"/>
        <field name="name">x_expiration_check</field>
    </record>
    <record id="x_partner_id_project_task_count_field" model="ir.model.fields">
        <field name="compute"><![CDATA[groups = self.env['project.task']._read_group(
    [
        ('partner_id', 'child_of', self.ids),
        ('x_is_license', '=', True),
    ],
    ['partner_id'],
    ['__count']
)
task_counts = {partner.id: count for partner, count in groups}
for record in self: record['x_partner_id_project_task_count'] = task_counts.get(record.id, 0)
]]>        </field>
        <field name="ttype">integer</field>
        <field name="depends">name</field>
        <field name="field_description">Customer count</field>
        <field name="model_id" ref="base.model_res_partner"/>
        <field name="name">x_partner_id_project_task_count</field>
        <field name="readonly" eval="True"/>
        <field name="selectable" eval="False"/>
        <field name="store" eval="False"/>
    </record>
    <record id="is_license_field" model="ir.model.fields">
        <field name="ttype">boolean</field>
        <field name="related">project_id.x_is_license</field>
        <field name="field_description">Is license</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="name">x_is_license</field>
        <field name="readonly" eval="True"/>
        <field name="store" eval="False"/>
    </record>
    <record id="field_related_software_reseller_x_software" model="ir.model.fields">
        <field name="ttype">char</field>
        <field name="related">project_id.x_software</field>
        <field name="field_description">Software</field>
        <field name="model_id" ref="project.model_project_task"/>
        <field name="name">x_software</field>
        <field name="readonly" eval="True"/>
        <field name="store" eval="False"/>
    </record>
</odoo>
